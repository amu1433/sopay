(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cb6d4"],{"4a2c":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"site"}},[o("Card",{attrs:{bordered:!1}},[o("p",{attrs:{slot:"title"},slot:"title"},[t._v("登录我的专属通道")]),o("p",[t._v("专属通道权限,1，可以自己绑定店员,无需联系客服添加,也可以给自己的下级用户绑定店员")]),t.userInfo.userData.isvip?o("Tag",{attrs:{color:"red"}},[t._v("VIP会员, 过期时间"+t._s(t.userInfo.userData.expritime))]):t._e(),o("p",[t._v(" ")]),t.vbot.wcId?[o("div",[t.vbot.smallHeadImgUrl?o("img",{staticStyle:{width:"100px","border-radius":"50px",height:"100px"},attrs:{src:t.vbot.smallHeadImgUrl}}):t._e(),o("p",[t._v(t._s(t.vbot.nickName))])]),o("p",[t._v(" ")]),o("Button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(e){return t.handleisOnline()}}},[t._v("检测是否在线")]),o("Button",{attrs:{type:"dashed",size:"small"},nativeOn:{click:function(e){return t.handlelogout()}}},[t._v("退出当前账户")])]:[o("Button",{attrs:{type:"success"},nativeOn:{click:function(e){return t.qrLogin()}}},[t._v("登录云端微信")])]],2),o("Modal",{attrs:{"footer-hide":!0,width:t.imgModel.width,"mask-closable":!1,"class-name":"imgPreview"},on:{"on-visible-change":t.doCancel},model:{value:t.imgModel.imgModel,callback:function(e){t.$set(t.imgModel,"imgModel",e)},expression:"imgModel.imgModel"}},[o("p",{staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[o("span",[t._v(t._s(t.imgModel.imgTitle))])]),o("div",{staticStyle:{"text-align":"center"}},[t.imgModel.centent?o("h2",[t._v(t._s(t.imgModel.centent))]):t._e(),o("img",{attrs:{src:t.imgModel.modelImg,width:"100%"}})])]),o("Modal",{attrs:{"footer-hide":!0,width:"400px","class-name":"imgPreview"},model:{value:t.loginModal.show,callback:function(e){t.$set(t.loginModal,"show",e)},expression:"loginModal.show"}},[o("p",{staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[o("span",[t._v("登录云端通道")])]),o("div",{staticStyle:{"text-align":"left"}},[o("Form",{ref:"myForm",attrs:{model:t.formItem,"label-position":"left"}},[o("FormItem",{attrs:{label:"请选择你要登录的微信"}},[o("Select",{model:{value:t.formItem.wcId,callback:function(e){t.$set(t.formItem,"wcId",e)},expression:"formItem.wcId"}},[o("Option",{attrs:{value:"",label:""}},[o("span",[t._v("新号登录")]),o("span",{staticStyle:{float:"right",color:"#ccc"}},[t._v("首次扫码请选择这个")])]),t._l(t.userlogin,(function(e,a){return o("Option",{key:a,attrs:{value:e.wcId,label:e.wcId}},[o("Avatar",{attrs:{src:e.headUrl}}),o("span",{staticStyle:{float:"right",color:"#ccc"}},[t._v(t._s(e.nickName))])],1)}))],2)],1),o("FormItem",{attrs:{label:"选择地区?"}},[o("RadioGroup",{attrs:{type:"button"},model:{value:t.formItem.proxy,callback:function(e){t.$set(t.formItem,"proxy",e)},expression:"formItem.proxy"}},[o("Radio",{attrs:{label:1}},[t._v("南京")]),o("Radio",{attrs:{label:2}},[t._v("广州")]),o("Radio",{attrs:{label:3}},[t._v("北京")]),o("Radio",{attrs:{label:4}},[t._v("上海")])],1)],1),o("FormItem",[o("Button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.handleiPadLogin.apply(null,arguments)}}},[t._v("登录")])],1)],1)],1)])],1)},l=[],i=o("c24f"),s=o("7736"),n=o("49ea");console.log(n["a"]);var r={name:"",data(){return{loginModal:{show:!1},formItem:{proxy:1,wcId:""},userlogin:[],userInfo:{},vbot:{},imgModel:{imgModel:!1,modelImg:"",imgTitle:"图片预览",width:"300",time:"",centent:""},modal_loading:!1}},computed:{},created(){let t=this,e=JSON.parse(sessionStorage.getItem("userData"));t.userInfo=e,t.vbot=e.bio},methods:{...Object(s["b"])(["getUserInfo"]),handlegetUserInfo(){this.getUserInfo().then(t=>{this.userInfo=t,this.vbot=this.userInfo.bio})},doCancel(t){},qrLogin(){let t=this;t.loginModal.show=!0;let e={};Object(i["i"])(e).then(e=>{t.userlogin=e.data.data.list}).catch(()=>{})},handleiPadLogin(){let t=this;if(!t.userInfo.userData.isvip)return void t.$Notice.warning({top:50,duration:10,title:"通知",desc:"暂未开通VIP,请联系客服"});Object(i["l"])(t.formItem).then(e=>{t.imgModel.modelImg=e.data.data.qrCodeUrl,t.imgModel.imgModel=!0,t.imgModel.centent="登录可能需要30秒左右..请耐心等待",n["a"].then(e=>{e.$on("USER_IPAD_LOGIN",(function(e){"1"==e.code&&(t.imgModel.imgModel=!1,t.loginModal.show=!1,t.handlegetUserInfo()),t.$Notice.destroy(),t.$Notice.warning({top:50,duration:10,title:e.msg+"通知",desc:e.info})}))})}).catch(()=>{t.imgModel.imgModel=!1,t.loginModal.show=!1})},handlelogout(){let t=this;Object(i["m"])({}).then(e=>{t.handlegetUserInfo(),t.$Message.success("退出成功,请刷新")})},handleisOnline(){let t=this;Object(i["n"])({}).then(e=>{t.handlegetUserInfo();let o=!0===e.data.data.isOnline?"在线":"掉线";t.$Message.success(o)}).catch(()=>{})}}},d=r,c=o("cba8"),m=Object(c["a"])(d,a,l,!1,null,null,null);e["default"]=m.exports}}]);